### **(1) 计算 TPR 和 FPR**

首先，确定真实的正例 (P) 和负例 (N) 的总数。
根据 "真的结果" 行：
-   **总正例数 (Total P)**: 5 (在位置 2, 3, 5, 7, 9)
-   **总负例数 (Total N)**: 5 (在位置 1, 4, 6, 8, 10)

定义：
-   $TPR = \frac{TP}{Total\ P} = \frac{TP}{5}$ (真正例率)
-   $FPR = \frac{FP}{Total\ N} = \frac{FP}{5}$ (假正例率)

对每个 `k` 值进行计算：

-   **k = 0**:
    -   预测: 全是 N。
    -   TP (预测为P的真正例): 0
    -   FP (预测为P的真负例): 0
    -   $TPR = 0/5 = 0$
    -   $FPR = 0/5 = 0$
    -   坐标: **(0, 0)**

-   **k = 1/4**:
    -   预测为P的位置: 1, 4, 5, 7
    -   TP (位置 5, 7): 2
    -   FP (位置 1, 4): 2
    -   $TPR = 2/5 = 0.4$
    -   $FPR = 2/5 = 0.4$
    -   坐标: **(0.4, 0.4)**

-   **k = 1/2**:
    -   预测为P的位置: 1, 4, 5, 7, 9
    -   TP (位置 5, 7, 9): 3
    -   FP (位置 1, 4): 2
    -   $TPR = 3/5 = 0.6$
    -   $FPR = 2/5 = 0.4$
    -   坐标: **(0.4, 0.6)**

-   **k = 3/4**:
    -   预测为P的位置: 1, 2, 4, 5, 7, 8, 9
    -   TP (位置 2, 5, 7, 9): 4
    -   FP (位置 1, 4, 8): 3
    -   $TPR = 4/5 = 0.8$
    -   $FPR = 3/5 = 0.6$
    -   坐标: **(0.6, 0.8)**

-   **k = 1**:
    -   预测: 全是 P。
    -   TP (位置 2, 3, 5, 7, 9): 5
    -   FP (位置 1, 4, 6, 8, 10): 5
    -   $TPR = 5/5 = 1.0$
    -   $FPR = 5/5 = 1.0$
    -   坐标: **(1.0, 1.0)**

**总结表:**

| k | TP | FP | FPR (x) | TPR (y) |
| :---: | :-: | :-: | :---: | :---: |
| 0 | 0 | 0 | 0.0 | 0.0 |
| 1/4 | 2 | 2 | 0.4 | 0.4 |
| 1/2 | 3 | 2 | 0.4 | 0.6 |
| 3/4 | 4 | 3 | 0.6 | 0.8 |
| 1 | 5 | 5 | 1.0 | 1.0 |

---

### **(2) 绘制 ROC 曲线**

将 (1) 中得到的5个 (FPR, TPR) 坐标点绘制在图上并连接。该图被称为ROC曲线。

-   **坐标点**: (0, 0), (0.4, 0.4), (0.4, 0.6), (0.6, 0.8), (1.0, 1.0)
-   **横轴 (X-axis)**: FPR (从0到1)
-   **纵轴 (Y-axis)**: TPR (从0到1)

**图示 (ASCII Art)**:
```
      TPR
1.0 +-----------------+ (k=1)
    |                /
0.8 +           .---* (k=3/4)
    |          /
0.6 +      .---* (k=1/2)
    |      |
0.4 +------* (k=1/4)
    |     /
0.2 +    /
    |   /
0.0 *---+---+---+---+---+- FPR
   0.0 0.2 0.4 0.6 0.8 1.0
(k=0)
```
*注意：从 (0.4, 0.4) 到 (0.4, 0.6) 是一条垂直的线段。*

---

### **(3) 随机猜测算法的图形**

考虑一个以概率 `r` 预测为 Positive，概率 `1-r` 预测为 Negative 的随机算法。

-   对于一个真实为 **Positive** 的样本，算法预测其为 P 的概率是 `r`。因此：
    $$ TPR = \frac{E[TP]}{Total\ P} = \frac{r \times Total\ P}{Total\ P} = r $$
-   对于一个真实为 **Negative** 的样本，算法也以概率 `r` 错误地预测其为 P。因此：
    $$ FPR = \frac{E[FP]}{Total\ N} = \frac{r \times Total\ N}{Total\ N} = r $$

因此，对于该随机算法，我们得到关系式 $TPR = FPR$。

当 `r` 从 0 变化到 1 时，(FPR, TPR) 的轨迹是 **从 (0,0) 到 (1,1) 的对角线**。

在 (2) 的图上追加这条线，即连接 (0,0) 和 (1,1) 的直线。

---

### **(4) 算法性能讨论**

**比较**:
-   **小问(3)的随机算法**: 对应于 ROC 空间中的对角线 $TPR = FPR$。这条线代表了“无识别能力”的基准，其 AUC (Area Under Curve) 值为 0.5。
-   **小问(1)的算法**: 其 ROC 曲线由点 (0,0), (0.4,0.4), (0.4,0.6), (0.6,0.8), (1.0,1.0) 连接而成。

**讨论**:
一个性能优秀的分类器，其ROC曲线应该位于对角线的左上方，这意味着在相同的FPR下，它能获得比随机猜测更高的TPR。

观察小问(1)的算法曲线：
-   在 $k=1/4$ 时，点 (0.4, 0.4) 恰好在对角线上，表示此时性能等同于随机猜测。
-   在 $k=1/2$ 和 $k=3/4$ 时，点 (0.4, 0.6) 和 (0.6, 0.8) 均位于对角线的左上方（因为 $0.6 > 0.4$ 且 $0.8 > 0.6$）。
-   整个曲线始终在对角线的**上方或与之重合**，从未落到其下方。

**结论**:
由于小问(1)的算法在多个参数设置下（特别是 $k=1/2$ 和 $k=3/4$）的表现优于随机猜测，并且其整体ROC曲线包围的面积（AUC）大于0.5，因此可以判断**小问(1)的算法比小问(3)的随机选择算法更优秀**。它具备有效的正负样本区分能力。